<h2>アカウント編集</h2>

<% if @error_message %>
<div class="partial_errors">
  <%= @error_message %>
</div>
<% end %>

<%= render "shared/errors", obj: @user %>

<%= form_with model:@user, url:update_account_path, method:"patch", local:true do |f| %>

  <div class="form_group mt-3">
    <label class="h5">メールアドレス</label>
    <%= f.text_field  :emai, class: "form-control", value: @user.email %>
  </div>
  
  <div class="form_group mt-3">
    <label class="h5">新しいパスワード</label><span class="small text-secondary"> (未入力の場合，[更新]してもパスワードは変更されません)</span>
    <%= f.password_field :password, placeholder: "半角英数字とアンダースコアで8文字以上", class: "form-control" %>
  </div>
  
  <div class="form_group mt-3">
    <label class="h5">新しいパスワード(確認用)</label>
    <%= f.password_field  :password_confirmation, placeholder: "確認のために同じパスワードを入力", class: "form-control" %>
  </div>
  
  <div class="form_group mt-3">
    <label class="h5">現在のパスワード</label>
    <%= f.password_field :password_previous, :placeholder => "現在のパスワードを入力", class: "form-control" %>
  </div>
  
  <hr>
  
  <%= f.submit "更新", class: "btn btn-primary" %>
  <%= link_to "設定に戻る", settings_path, class: "btn btn-secondary" %>
  <div class="text-right">
      <%= link_to "アカウントを削除する", delete_account_path, method: "delete", 
          data: {confirm: "本当に削除しますか？"}, class: "btn btn-danger" %>
  </div>

<% end %>

